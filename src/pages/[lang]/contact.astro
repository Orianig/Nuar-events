---
import Layout from '../../layouts/Layout.astro';
import Navbar from '../../components/layout/Navbar.astro';
import Footer from '../../components/layout/Footer.astro';
import { getTranslations, type Lang } from '../../i18n';

export function getStaticPaths() {
  return [{ params: { lang: 'es' } }, { params: { lang: 'en' } }];
}

const { lang } = Astro.params as { lang: Lang };
const langSafe: Lang = lang === 'en' || lang === 'es' ? lang : 'es';
const t = getTranslations(langSafe);
const p = t.pages.contact;
const base = import.meta.env.BASE_URL;
const baseSlash = base.endsWith('/') ? base : base + '/';
---

<Layout title={p.title}>
	<Navbar
		currentPath={Astro.url.pathname}
		brandName={t.nav.brandName}
		home={t.nav.home}
		projects={t.nav.projects}
		contact={t.nav.contact}
		menuToggle={t.nav.menuToggle}
		currentLang={langSafe}
		base={base}
	/>
	<div class="min-h-screen flex flex-col items-center justify-center bg-stone pt-24 pb-8 px-8">
		<div class="text-center flex flex-col gap-8">
			<h1 class="text-4xl font-bold text-gray-800">{p.heading}</h1>
			
			<div class="flex flex-wrap gap-4 justify-center">
				<a href={baseSlash + (langSafe === 'en' ? 'en/' : 'es/')} class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-md">
					{p.goHome}
				</a>
				<a href={baseSlash + (langSafe === 'en' ? 'en/projects' : 'es/projects')} class="px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium shadow-md">
					{p.goProjects}
				</a>
			</div>
		</div>
	</div>
	<Footer contactText={t.footer.contact} />
</Layout>
